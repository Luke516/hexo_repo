title: openGL教學<一> 認識openGL
date: 2014-09-17 06:50:08
tags: openGL
category:
- 3D圖學、openGL與遊戲製作
---

##什麼是openGL？##

要學習openGL的第一步，當然得先了解openGL到底是什麼東西，所以就讓我們來看看openGL到底有什麼特質和用途吧。

<!--more-->

###openGL：一個繪圖用的應用程式介面(API)###

openGL，全名是Open Graphics Library，是一個開放標準(open standard)的API，可以用來繪製2D與3D圖形。
它的特點是跨平台，並且雖然openGL是基於C語言，卻可以用其他語言實作(如 C#, Java, Lisp, Lua, Pascal,
 Python, Ruby等)，並且配合硬體，強調硬體加速的特性。不過openGL有個限制就是它只負責繪圖，跟輸入、
 視窗、音訊或網路等功能完全無關，因此要用openGL開發程式者基本上會需要經常使用額外的函式庫來達到
 這些功能。

與它主要的競爭對手:微軟的DirectX(簡稱DX)相比，DX只有在微軟的平台上才能使用，語言也受限制，並且DX
主要強調的是從硬體抽象化的概念，讓使用者不需硬體相關知識也可輕鬆使用。另外，DX除了繪圖，也另外包了
如聲音、視窗等功能。

這樣看來，兩者似乎各有優缺點，但為何現今聽過DX的人仍佔大多數，甚至市面上絕大部分的(PC)遊戲也是用
DX寫出來的呢？這就不得不提一下openGL與它競爭者DX過去的歷史，以及造成這種現狀的原因，和未來發展的
可能性。


###opneGL的(大略)歷史###

事實上，在一段時間之前(約199X~2000年)，openGL還是3D繪圖的龍頭，獲得如雷神之槌(Quake)等知名遊戲
品牌的支持，但好景不常，決定openGL標準的OpenGL架構評審委員會（ARB）因為不同廠商利益的糾紛，使
openGL發展的腳步逐漸緩慢，而DX則在微軟大量資金的推動下迎頭趕上，在DirectX8的時候反超了openGL的
地位，並提出了當時創新的programmable GPU rendering pipeline来代替原有的fixed function pipeline
，引入了Vertex Shader和Pixel Shader，更在DirectX9推出了高階著色語言(HLSL)，領先了openGL2.0數年
的時間，也讓眾多廠商都在這段期間轉向DX的懷抱。

直到2006年，ARB將openGL轉讓給了Khronos團隊，openGL的支持者們期望這新的開始能讓openGL迎頭趕上，
不過他們又失望了一次，Khronos到了2008年才推出openGL3.0，並且刪減了許多原先承諾的功能，使其評價
普遍不高。僅能勉強趕上DX10的功能。

然而，近年來openGL的更新越來越頻繁，openGL ES也在移動裝置上取得了巨大的成功，並且隨著Linux和
OS X等非微軟作業系統的發展，openGL跨平台與硬體加速的特性再次受到重視。在2014遊戲開發者年會中
，AMD和NVIDIA的開發人員宣稱最新的openGL在一般的情況下就有比DX高1.3倍的效能，並且有更簡潔的程
式碼。

現在openGL已經進入openGL4，DX12也指日可待，兩大繪圖API再次並駕齊驅。雖然現在遊戲界DX仍佔大多數
，但我個人認為openGL也已經成為了另一個合理的選擇，也希望這兩大繪圖API的競爭能帶給大家更好的圖像
和效能囉！


###為何使用openGL###

openGL的優點其實前面就大略提過了，這裡再稍微提一下：

1.跨平台。

2.支援多種語言。

3.硬體加速。

相對而言，它的缺點有；

1.只有繪圖的功能，所有其他東西都需要外部的輔助

2.有許多進階用途需要對硬體有一定程度的了解

因為筆者本身是學資工的，周遭許多人也都使用linux或msc OS等作業系統，因此特別重視跨平台這塊，也才
選擇了openGL作為學習的目標。如果讀者還不知道要選擇什麼的話，從openGL開始或許也是個不錯的選擇！


###openGL 3.0 之後###

這裡特別提出一小段來說明openGL3.0版前後的差異，因為網路上現有的許多教學仍停留在3.0以前的
fixed pipeline版本，跟3.0之後主要用shader來著色的版本有相當的差異，簡單來說，舊的版本使用
固定渲染管線，彈性比較小，速度也比較慢，唯一的好處是使用起來比較簡單。在3.0之後許多舊版的
函式如glBegin(),glPerspective(),glVertex3f()等都已經不被包含在核心(core)版本裡，因此在網路
上查資料時最好注意一下openGL的版本，以免浪費時間學到許多不再實用的寫法，跟筆者之前犯下一樣
的錯誤QQ


###其他輔助工具###

最後在正式進入openGL的教學之前，稍微提一下我們可能會用到的輔助工具。就像上面提到的，openGL只有
最單純的繪圖功能，其他東西需要額外的工具，因此在這裡先介紹幾個之後可能會用到的東西：

1.GLFW

GLFW是一個提供基本輸入輸出支援的函式庫，它提供的功能像鍵盤與滑鼠的輸入、建立一個視窗等，並且
也可以跨平台使用。其實類似的東西不只GLFW，像是freeGLUT或SDL等工具其實也有相同的功能，有興
趣也可以上網看看相關的資訊。

2.GLM

GLM的M指的就是mathematic的意思，顧名思義，它是一個幫助我們進行數學運算的函式庫。由於openGL可能會
用到許多3D空間的運算，這類運算大多是向量或矩陣之間的數學運算，一般的程式碼寫起來可能有意點麻煩。
因此我們使用glm這個不錯的輔助工具，讓中間運算的過程更簡單易懂一點。舉例而言，像轉移矩陣或旋轉矩陣
、向量的加減乘除等都可利用glm以更簡單的方式完成~~

3.GLEW

GLEW可以算是是openGL的擴充，由於許多作業系統對openGL的支援可能都不是最新的版本，在這種情況下，
GLEW提供了我們最方便的方法來調用最新的openGL函式

###最後###

關於openGL的介紹就在這裡告一段落，看完應該可以對openGL有一些基本的了解吧！之後我們就要開始用C++
撰寫程式來使用openGL進行3D繪圖囉~~ QWQ

